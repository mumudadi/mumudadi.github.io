<!doctype html><html><head><title>Druid DataSourceStat</title><meta http-equiv="Content-Type" content="text/html; charset=utf8"><link href="css/bootstrap.min.css" rel="stylesheet"><link href="css/style.css" rel="stylesheet"><script src="js/jquery.min.js"></script><script src="js/bootstrap.min.js"></script><script src="js/lang.js" charset="utf8"></script><script src="js/common.js" charset="utf8"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="木木" type="application/atom+xml"></head><body><div class="container-fluid"><div class="row-fluid"><div class="span12"><h3 class="lang" langkey="WallStat">Wall Stat <a href="wall.json" target="_blank">View JSON API</a></h3><table id="dataTable" style="background-color:#fff" class="table table-bordered responsive-utilities"><tr><td valign="top" class="td_lable lang" langkey="CheckCount">CheckCount</td><td id="CheckCount"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="HardCheckCount">HardCheckCount</td><td id="HardCheckCount"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="ViolationCount">ViolationCount</td><td id="ViolationCount"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="BlackListHitCount">BlackListHitCount</td><td id="BlackListHitCount"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="BlackListSize">BlackListSize</td><td id="BlackListSize"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="WhiteListHitCount">WhiteListHitCount</td><td id="WhiteListHitCount"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="WhiteListSize">WhiteListSize</td><td id="WhiteListSize"></td><td></td></tr><tr><td valign="top" class="td_lable lang" langkey="SyntaxErrrorCount">SyntaxErrrorCount</td><td id="SyntaxErrrorCount"></td><td></td></tr></table><h3 class="lang" langkey="TableStat">Table Stat</h3><table id="dataTable1" style="background-color:#fff" class="table table-bordered table-striped responsive-utilities"><thead><tr><th class="td_lable"><a id="th-TableNumber" class="lang" langkey="TableNumber">TableNumber</a></th><th class="td_lable"><a id="th-tableName" class="lang" langkey="TableName">TableName</a></th><th class="td_lable"><a id="th-selectCount" class="lang" langkey="SelectCount">SelectCount</a></th><th class="td_lable"><a id="th-selectIntoCount" class="lang" langkey="SelectIntoCount">SelectCount</a></th><th class="td_lable"><a id="th-insertCount" class="lang" langkey="InsertCount">InsertCount</a></th><th class="td_lable"><a id="th-updateCount" class="lang" langkey="UpdateCount">UpdateCount</a></th><th class="td_lable"><a id="th-deleteCount" class="lang" langkey="DeleteCount">DeleteCount</a></th><th class="td_lable"><a id="th-truncateCount" class="lang" langkey="TruncateCount">TruncateCount</a></th><th class="td_lable"><a id="th-createCount" class="lang" langkey="CreateCount">CreateCount</a></th><th class="td_lable"><a id="th-alterCount" class="lang" langkey="AlterCount">AlterCount</a></th><th class="td_lable"><a id="th-dropCount" class="lang" langkey="DropCount">DropCount</a></th><th class="td_lable"><a id="th-replaceCount" class="lang" langkey="ReplaceCount">ReplaceCount</a></th><th class="td_lable"><a id="th-deleteDataCount" class="lang" langkey="DeleteDataCount">DeleteDataCount</a></th><th align="left" width="100"><span class="lang" langkey="UpdateHisto">DeleteDataHisto</span><br>[ <a id="th-deleteDataCountHistogram[0]" class="langTitle" langkey="delete0" title="count of '0 DeleteCount'">-</a> <a id="th-deleteDataCountHistogram[1]" class="langTitle" langkey="delete9" title="count of '1-9 DeleteCount'">-</a> <a id="th-deleteDataCountHistogram[2]" class="langTitle" langkey="delete99" title="count of '10-99 DeleteCount'">-</a> <a id="th-deleteDataCountHistogram[3]" class="langTitle" langkey="delete999" title="count of '100-999 DeleteCount'">-</a> <a id="th-deleteDataCountHistogram[4]" class="langTitle" langkey="delete9999" title="count of '1000-9999 DeleteCount'">-</a> <a id="th-deleteDataCountHistogram[5]" class="langTitle" langkey="delete99999" title="count of '> 9999 DeleteCount'">-</a> ]</th><th class="td_lable"><a id="th-UpdateDataCount" class="lang" langkey="UpdateDataCount">UpdateDataCount</a></th><th align="left" width="100"><span class="lang" langkey="UpdateHisto">UpdateDataHisto</span><br>[ <a id="th-updateDataCountHistogram[0]" class="langTitle" langkey="update0" title="count of '0 UpdateCount'">-</a> <a id="th-updateDataCountHistogram[1]" class="langTitle" langkey="update9" title="count of '1-9 UpdateCount'">-</a> <a id="th-updateDataCountHistogram[2]" class="langTitle" langkey="update99" title="count of '10-99 UpdateCount'">-</a> <a id="th-updateDataCountHistogram[3]" class="langTitle" langkey="update999" title="count of '100-999 UpdateCount'">-</a> <a id="th-updateDataCountHistogram[4]" class="langTitle" langkey="update9999" title="count of '1000-9999 UpdateCount'">-</a> <a id="th-updateDataCountHistogram[5]" class="langTitle" langkey="update99999" title="count of '> 9999 UpdateCount'">-</a> ]</th><th class="td_lable"><a id="th-FetchRowCount" class="lang" langkey="FetchRowCount">FetchRowCount</a></th><th align="left" width="100"><span class="lang" langkey="FetchRowHisto">FetchRowHisto</span><br>[ <a id="th-fetchRowCountHistogram[0]" class="langTitle" langkey="fetch0" title="count of '0 FetchRow'">-</a> <a id="th-fetchRowCountHistogram[1]" class="langTitle" langkey="fetch9" title="count of '1-9 FetchRow'">-</a> <a id="th-fetchRowCountHistogram[2]" class="langTitle" langkey="fetch99" title="count of '10-99 FetchRow'">-</a> <a id="th-fetchRowCountHistogram[3]" class="langTitle" langkey="fetch999" title="count of '100-999 FetchRow'">-</a> <a id="th-fetchRowCountHistogram[4]" class="langTitle" langkey="fetch9999" title="count of '1000-9999 FetchRow'">-</a> <a id="th-fetchRowCountHistogram[5]" class="langTitle" langkey="fetch99999" title="count of '> 9999 FetchRow'">-</a> ]</th></tr></thead><tbody></tbody></table><h3 class="lang" langkey="FunctionStat">Function Stat</h3><table id="dataTable2" style="background-color:#fff" class="table table-bordered responsive-utilities"><thead><tr><th class="td_lable">Function Name</th><th class="td_lable"><a id="th-invokeCount" href="javascript:void(0);">InvokeCount</a></th></tr></thead><tbody></tbody></table><h3 class="lang" langkey="SQLStatWhiteList">SQL Stat - White List</h3><table id="dataTable3" style="background-color:#fff" class="table table-bordered responsive-utilities"><thead><tr><th class="td_lable" style="width:50px"><span id="WhiteListNumber" class="lang" langkey="TableNumber">TableNumber</span></th><th class="td_lable">SQL</th><th class="td_lable"><span id="WhiteListSample" class="lang" langkey="Sample">Sample</span></th><th class="td_lable" style="width:50px"><span id="WhiteListExecuteCount" class="lang" langkey="ExecuteCount">ExecuteCount</span></th><th class="td_lable" style="width:50px"><span id="WhiteListExecuteErrorCount" class="lang" langkey="ExecuteErrorCount">ExecuteErrorCount</span></th><th class="td_lable" style="width:50px"><span id="WhiteListFetchRowCount" class="lang" langkey="FetchRowCount">FetchRowCount</span></th><th class="td_lable" style="width:50px"><span id="WhiteListUpdateCount" class="lang" langkey="SQLUpdateCount">UpdateCount</span></th></tr></thead><tbody></tbody></table><h3 class="lang" langkey="SQLStatBlackList">SQL Stat - Black List</h3><table id="dataTable4" style="background-color:#fff" class="table table-bordered responsive-utilities"><thead><tr><th class="td_lable" style="width:50px"><span id="BlackListNumber" class="lang" langkey="TableNumber">TableNumber</span></th><th class="td_lable">SQL</th><th class="td_lable"><span id="BlackListSample" class="lang" langkey="Sample">Sample</span></th><th class="td_lable" style="width:50px"><span id="violationMessage" class="lang" langkey="violationMessage">violationMessage</span></th><th class="td_lable" style="width:50px"><span id="BlackListExecuteCount" class="lang" langkey="ExecuteCount">ExecuteCount</span></th><th class="td_lable" style="width:50px"><span id="BlackListFetchRowCount" class="lang" langkey="FetchRowCount">FetchRowCount</span></th><th class="td_lable" style="width:50px"><span id="BlackListUpdateCount" class="lang" langkey="SQLUpdateCount">UpdateCount</span></th></tr></thead><tbody></tbody></table></div></div></div><script>$.namespace("druid.datasource"),druid.wall={init:function(){$("#dataTable1 th a").click(function(t){druid.common.setOrderBy(t.target.id.substring(3))}),$("#dataTable2 th a").click(function(t){druid.common.setOrderBy(t.target.id.substring(3))}),druid.common.buildHead(3),druid.common.ajaxuri="wall.json?",druid.common.handleCallback=druid.wall.handleAjaxResult,druid.common.ajaxRequestForBasicInfo(),setInterval("druid.common.ajaxRequestForBasicInfo();",5e3)},handleAjaxResult:function(t){$("#CheckCount").text(replace(t.Content.checkCount)),$("#HardCheckCount").text(replace(t.Content.hardCheckCount)),$("#ViolationCount").text(replace(t.Content.violationCount)),$("#BlackListHitCount").text(replace(t.Content.blackListHitCount)),$("#BlackListSize").text(replace(t.Content.blackListSize)),$("#WhiteListHitCount").text(replace(t.Content.whiteListHitCount)),$("#WhiteListSize").text(replace(t.Content.whiteListSize)),$("#SyntaxErrrorCount").text(replace(t.Content.syntaxErrrorCount));var e="",d=t.Content.tables;if(d){for(var a=0;a<d.length;a++){var o=d[a];e+="<tr>",e+="<td>"+(a+1)+"</td>",e+="<td>"+o.name+"</td>",e+="<td>"+replace(o.selectCount)+"</td>",e+="<td>"+replace(o.selectIntoCount)+"</td>",e+="<td>"+replace(o.insertCount)+"</td>",e+="<td>"+replace(o.updateCount)+"</td>",e+="<td>"+replace(o.deleteCount)+"</td>",e+="<td>"+replace(o.truncateCount)+"</td>",e+="<td>"+replace(o.createCount)+"</td>",e+="<td>"+replace(o.alterCount)+"</td>",e+="<td>"+replace(o.dropCount)+"</td>",e+="<td>"+replace(o.replaceCount)+"</td>",e+="<td>"+replace(o.deleteDataCount)+"</td>",void 0===o.deleteDataCountHistogram?e+="<td></td>":e+="<td>["+o.deleteDataCountHistogram+"]</td>",e+="<td>"+replace(o.updateDataCount)+"</td>",void 0===o.updateDataCountHistogram?e+="<td></td>":e+="<td>["+o.updateDataCountHistogram+"]</td>",e+="<td>"+replace(o.fetchRowCount)+"</td>",void 0===o.fetchRowCountHistogram?e+="<td></td>":e+="<td>["+o.fetchRowCountHistogram+"]</td>",e+="</tr>"}$("#dataTable1 tbody").html(e)}e="";var n=t.Content.functions;if(n){for(a=0;a<n.length;a++){var r=n[a];e+="<tr>",e+="<td>"+r.name+"</td>",e+="<td>"+r.invokeCount+"</td>",e+="</tr>"}$("#dataTable2 tbody").html(e)}e="";var l=t.Content.whiteList;if(l){for(a=0;a<l.length;++a){var u=l[a];null!=u.sql&&(u.sql=u.sql.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e+="<tr>",e+="<td>"+(a+1)+"</td>",e+='<td style="word-break:break-all">'+u.sql+"</td>",void 0===u.sample?e+="<td></td>":e+='<td style="word-break:break-all">'+u.sample+"</td>",void 0===u.executeCount?e+="<td></td>":e+="<td>"+u.executeCount+"</td>",void 0===u.executeErrorCount?e+="<td></td>":e+="<td>"+u.executeErrorCount+"</td>",void 0===u.fetchRowCount?e+="<td></td>":e+="<td>"+u.fetchRowCount+"</td>",void 0===u.updateCount?e+="<td></td>":e+="<td>"+u.updateCount+"</td>",e+="</tr>"}$("#dataTable3 tbody").html(e)}e="";var i=t.Content.blackList;if(i){for(a=0;a<i.length;++a){var c=i[a];null!=c.sql&&(c.sql=c.sql.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e+="<tr>",e+="<td>"+(a+1)+"</td>",e+='<td style="word-break:break-all">'+c.sql+"</td>",void 0===c.sample?e+="<td></td>":e+='<td style="word-break:break-all">'+c.sample+"</td>",void 0===c.violationMessage?e+="<td></td>":e+="<td>"+c.violationMessage+"</td>",void 0===c.executeCount?e+="<td></td>":e+="<td>"+c.executeCount+"</td>",void 0===c.fetchRowCount?e+="<td></td>":e+="<td>"+c.fetchRowCount+"</td>",void 0===c.updateCount?e+="<td></td>":e+="<td>"+c.updateCount+"</td>"}$("#dataTable4 tbody").html(e)}}},$(document).ready(function(){druid.wall.init()})</script></body></html>