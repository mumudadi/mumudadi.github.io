"use strict";(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-adde61aa","chunk-2d230898","chunk-2d0de3b1"],{"4b72":function(e,t,l){l.d(t,"e",function(){return n}),l.d(t,"d",function(){return a}),l.d(t,"b",function(){return r}),l.d(t,"g",function(){return s}),l.d(t,"c",function(){return i}),l.d(t,"f",function(){return u}),l.d(t,"a",function(){return c});var o=l("b775");function n(e){return Object(o.a)({url:"/tool/gen/list.json",method:"get",params:e})}function a(e){return Object(o.a)({url:"/tool/gen/db/list",method:"get",params:e})}function r(e){return Object(o.a)({url:"/tool/gen/"+e,method:"get"})}function s(e){return Object(o.a)({url:"/tool/gen",method:"put",data:e})}function i(e){return Object(o.a)({url:"/tool/gen/importTable",method:"post",params:e})}function u(e){return Object(o.a)({url:"/tool/gen/preview/"+e,method:"get"})}function c(e){return Object(o.a)({url:"/tool/gen/"+e,method:"delete"})}},"76f8":function(e,t,l){l.r(t);var a=(l("ac6a"),l("5df3"),l("4b72")),o=l("ed45"),n=l("ed69"),r=l("8586"),s={name:"GenEdit",components:{basicInfoForm:n.default,genInfoForm:r.default},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",cloumns:[],dictOptions:[],info:{}}},beforeCreate:function(){var t=this,e=this.$route.query.tableId;e&&(Object(a.b)(e).then(function(e){t.cloumns=e.data.rows,t.info=e.data.info}),Object(o.f)().then(function(e){t.dictOptions=e.data}))},methods:{submitForm:function(){var l=this,o=this.$refs.basicInfo.$refs.basicInfoForm,n=this.$refs.genInfo.$refs.genInfoForm;Promise.all([o,n].map(this.getFormPromise)).then(function(e){if(e.every(function(e){return!!e})){var t=Object.assign({},o.model,n.model);t.columns=l.cloumns,t.params={treeCode:t.treeCode,treeName:t.treeName,treeParentCode:t.treeParentCode},Object(a.g)(t).then(function(e){l.msgSuccess(e.msg),200===e.code&&l.close()})}else l.msgError("表单校验未通过，请重新检查提交内容")})},getFormPromise:function(e){return new Promise(function(t){e.validate(function(e){t(e)})})},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now()}})}}},i=l("2877"),u=Object(i.a)(s,function(){var l=this,e=l.$createElement,o=l._self._c||e;return o("el-card",[o("el-tabs",{model:{value:l.activeName,callback:function(e){l.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[o("basic-info-form",{ref:"basicInfo",attrs:{info:l.info}})],1),l._v(" "),o("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[o("el-table",{attrs:{data:l.cloumns,"max-height":l.tableHeight}},[o("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%"}}),l._v(" "),o("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),l._v(" "),o("el-table-column",{attrs:{label:"字段描述",prop:"columnComment","min-width":"10%","show-overflow-tooltip":!0}}),l._v(" "),o("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),l._v(" "),o("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-select",{model:{value:t.row.javaType,callback:function(e){l.$set(t.row,"javaType",e)},expression:"scope.row.javaType"}},[o("el-option",{attrs:{label:"Long",value:"Long"}}),l._v(" "),o("el-option",{attrs:{label:"String",value:"String"}}),l._v(" "),o("el-option",{attrs:{label:"Integer",value:"Integer"}}),l._v(" "),o("el-option",{attrs:{label:"Double",value:"Double"}}),l._v(" "),o("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),l._v(" "),o("el-option",{attrs:{label:"Date",value:"Date"}})],1)]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-input",{model:{value:t.row.javaField,callback:function(e){l.$set(t.row,"javaField",e)},expression:"scope.row.javaField"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isInsert,callback:function(e){l.$set(t.row,"isInsert",e)},expression:"scope.row.isInsert"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isEdit,callback:function(e){l.$set(t.row,"isEdit",e)},expression:"scope.row.isEdit"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isList,callback:function(e){l.$set(t.row,"isList",e)},expression:"scope.row.isList"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isQuery,callback:function(e){l.$set(t.row,"isQuery",e)},expression:"scope.row.isQuery"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-select",{model:{value:t.row.queryType,callback:function(e){l.$set(t.row,"queryType",e)},expression:"scope.row.queryType"}},[o("el-option",{attrs:{label:"=",value:"EQ"}}),l._v(" "),o("el-option",{attrs:{label:"!=",value:"NE"}}),l._v(" "),o("el-option",{attrs:{label:">",value:"GT"}}),l._v(" "),o("el-option",{attrs:{label:">=",value:"GTE"}}),l._v(" "),o("el-option",{attrs:{label:"<",value:"LT"}}),l._v(" "),o("el-option",{attrs:{label:"<=",value:"LTE"}}),l._v(" "),o("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),l._v(" "),o("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(e){l.$set(t.row,"isRequired",e)},expression:"scope.row.isRequired"}})]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-select",{model:{value:t.row.htmlType,callback:function(e){l.$set(t.row,"htmlType",e)},expression:"scope.row.htmlType"}},[o("el-option",{attrs:{label:"文本框",value:"input"}}),l._v(" "),o("el-option",{attrs:{label:"文本域",value:"textarea"}}),l._v(" "),o("el-option",{attrs:{label:"下拉框",value:"select"}}),l._v(" "),o("el-option",{attrs:{label:"单选框",value:"radio"}}),l._v(" "),o("el-option",{attrs:{label:"复选框",value:"checkbox"}}),l._v(" "),o("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),l._v(" "),o("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:l._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(e){l.$set(t.row,"dictType",e)},expression:"scope.row.dictType"}},l._l(l.dictOptions,function(e){return o("el-option",{key:e.dictType,attrs:{label:e.dictName,value:e.dictType}},[o("span",{staticStyle:{float:"left"}},[l._v(l._s(e.dictName))]),l._v(" "),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[l._v(l._s(e.dictType))])])}),1)]}}])})],1)],1),l._v(" "),o("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[o("gen-info-form",{ref:"genInfo",attrs:{info:l.info}})],1)],1),l._v(" "),o("el-form",{attrs:{"label-width":"100px"}},[o("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(){return l.submitForm()}}},[l._v("提交")]),l._v(" "),o("el-button",{on:{click:function(){return l.close()}}},[l._v("返回")])],1)],1)],1)},[],!1,null,null,null);t.default=u.exports},8586:function(e,t,l){l.r(t);var o={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},n=l("2877"),a=Object(n.a)(o,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-form",{ref:"genInfoForm",attrs:{model:t.info,rules:t.rules,"label-width":"150px"}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"tplCategory"}},[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("生成模板")]),t._v(" "),l("el-select",{model:{value:t.info.tplCategory,callback:function(e){t.$set(t.info,"tplCategory",e)},expression:"info.tplCategory"}},[l("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),t._v(" "),l("el-option",{attrs:{label:"树表（增删改查）",value:"tree",disabled:""}})],1)],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"packageName"}},[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          生成包路径\n          "),l("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-input",{model:{value:t.info.packageName,callback:function(e){t.$set(t.info,"packageName",e)},expression:"info.packageName"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"moduleName"}},[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          生成模块名\n          "),l("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-input",{model:{value:t.info.moduleName,callback:function(e){t.$set(t.info,"moduleName",e)},expression:"info.moduleName"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"businessName"}},[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          生成业务名\n          "),l("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-input",{model:{value:t.info.businessName,callback:function(e){t.$set(t.info,"businessName",e)},expression:"info.businessName"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{prop:"functionName"}},[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          生成功能名\n          "),l("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-input",{model:{value:t.info.functionName,callback:function(e){t.$set(t.info,"functionName",e)},expression:"info.functionName"}})],1)],1)],1),t._v(" "),l("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==t.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[l("h4",{staticClass:"form-header"},[t._v("其他信息")]),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          树编码字段\n          "),l("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.info.treeCode,callback:function(e){t.$set(t.info,"treeCode",e)},expression:"info.treeCode"}},t._l(t.info.columns,function(e){return l("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})}),1)],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          树父编码字段\n          "),l("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.info.treeParentCode,callback:function(e){t.$set(t.info,"treeParentCode",e)},expression:"info.treeParentCode"}},t._l(t.info.columns,function(e){return l("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})}),1)],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",[l("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n          树名称字段\n          "),l("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[l("i",{staticClass:"el-icon-question"})])],1),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.info.treeName,callback:function(e){t.$set(t.info,"treeName",e)},expression:"info.treeName"}},t._l(t.info.columns,function(e){return l("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})}),1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=a.exports},ed45:function(e,t,l){l.d(t,"e",function(){return n}),l.d(t,"d",function(){return a}),l.d(t,"a",function(){return r}),l.d(t,"g",function(){return s}),l.d(t,"b",function(){return i}),l.d(t,"c",function(){return u}),l.d(t,"f",function(){return c});var o=l("b775");function n(e){return Object(o.a)({url:"/system/dict/type/list.json",method:"get",params:e})}function a(e){return Object(o.a)({url:"/system/dict/type/"+e,method:"get"})}function r(e){return Object(o.a)({url:"/system/dict/type",method:"post",data:e})}function s(e){return Object(o.a)({url:"/system/dict/type",method:"put",data:e})}function i(e){return Object(o.a)({url:"/system/dict/type/"+e,method:"delete"})}function u(e){return Object(o.a)({url:"/system/dict/type/export",method:"get",params:e})}function c(){return Object(o.a)({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,l){l.r(t);var o={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},n=l("2877"),a=Object(n.a)(o,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-form",{ref:"basicInfoForm",attrs:{model:t.info,rules:t.rules,"label-width":"150px"}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[l("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:t.info.tableName,callback:function(e){t.$set(t.info,"tableName",e)},expression:"info.tableName"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:t.info.tableComment,callback:function(e){t.$set(t.info,"tableComment",e)},expression:"info.tableComment"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:t.info.className,callback:function(e){t.$set(t.info,"className",e)},expression:"info.className"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[l("el-input",{attrs:{placeholder:"请输入"},model:{value:t.info.functionAuthor,callback:function(e){t.$set(t.info,"functionAuthor",e)},expression:"info.functionAuthor"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"备注",prop:"remark"}},[l("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.info.remark,callback:function(e){t.$set(t.info,"remark",e)},expression:"info.remark"}})],1)],1)],1)],1)},[],!1,null,null,null);t.default=a.exports}}]);